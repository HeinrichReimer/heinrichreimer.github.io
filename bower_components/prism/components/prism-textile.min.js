(function(c){var b="(?:\\([^|)]+\\)|\\[[^\\]]+\\]|\\{[^}]+\\})+";var d={css:{pattern:/\{[^}]+\}/,inside:{rest:c.languages.css}},"class-id":{pattern:/(\()[^)]+(?=\))/,lookbehind:true,alias:"attr-value"},lang:{pattern:/(\[)[^\]]+(?=\])/,lookbehind:true,alias:"attr-value"},punctuation:/[\\\/]\d+|\S/};c.languages.textile=c.languages.extend("markup",{phrase:{pattern:/(^|\r|\n)\S[\s\S]*?(?=$|\r?\n\r?\n|\r\r)/,lookbehind:true,inside:{"block-tag":{pattern:RegExp("^[a-z]\\w*(?:"+b+"|[<>=()])*\\."),inside:{modifier:{pattern:RegExp("(^[a-z]\\w*)(?:"+b+"|[<>=()])+(?=\\.)"),lookbehind:true,inside:c.util.clone(d)},tag:/^[a-z]\w*/,punctuation:/\.$/}},list:{pattern:RegExp("^[*#]+(?:"+b+")?\\s+.+","m"),inside:{modifier:{pattern:RegExp("(^[*#]+)"+b),lookbehind:true,inside:c.util.clone(d)},punctuation:/^[*#]+/}},table:{pattern:RegExp("^(?:(?:"+b+"|[<>=()^~])+\\.\\s*)?(?:\\|(?:(?:"+b+"|[<>=()^~_]|[\\\\/]\\d+)+\\.)?[^|]*)+\\|","m"),inside:{modifier:{pattern:RegExp("(^|\\|(?:\\r?\\n|\\r)?)(?:"+b+"|[<>=()^~_]|[\\\\/]\\d+)+(?=\\.)"),lookbehind:true,inside:c.util.clone(d)},punctuation:/\||^\./}},inline:{pattern:RegExp("(\\*\\*|__|\\?\\?|[*_%@+\\-^~])(?:"+b+")?.+?\\1"),inside:{bold:{pattern:RegExp("((^\\*\\*?)(?:"+b+")?).+?(?=\\2)"),lookbehind:true},italic:{pattern:RegExp("((^__?)(?:"+b+")?).+?(?=\\2)"),lookbehind:true},cite:{pattern:RegExp("(^\\?\\?(?:"+b+")?).+?(?=\\?\\?)"),lookbehind:true,alias:"string"},code:{pattern:RegExp("(^@(?:"+b+")?).+?(?=@)"),lookbehind:true,alias:"keyword"},inserted:{pattern:RegExp("(^\\+(?:"+b+")?).+?(?=\\+)"),lookbehind:true},deleted:{pattern:RegExp("(^-(?:"+b+")?).+?(?=-)"),lookbehind:true},span:{pattern:RegExp("(^%(?:"+b+")?).+?(?=%)"),lookbehind:true},modifier:{pattern:RegExp("(^\\*\\*|__|\\?\\?|[*_%@+\\-^~])"+b),lookbehind:true,inside:c.util.clone(d)},punctuation:/[*_%?@+\-^~]+/}},"link-ref":{pattern:/^\[[^\]]+\]\S+$/m,inside:{string:{pattern:/(\[)[^\]]+(?=\])/,lookbehind:true},url:{pattern:/(\])\S+$/,lookbehind:true},punctuation:/[\[\]]/}},link:{pattern:RegExp('"(?:'+b+')?[^"]+":.+?(?=[^\\w/]?(?:\\s|$))'),inside:{text:{pattern:RegExp('(^"(?:'+b+')?)[^"]+(?=")'),lookbehind:true},modifier:{pattern:RegExp('(^")'+b),lookbehind:true,inside:c.util.clone(d)},url:{pattern:/(:).+/,lookbehind:true},punctuation:/[":]/}},image:{pattern:RegExp("!(?:"+b+"|[<>=()])*[^!\\s()]+(?:\\([^)]+\\))?!(?::.+?(?=[^\\w/]?(?:\\s|$)))?"),inside:{source:{pattern:RegExp("(^!(?:"+b+"|[<>=()])*)[^!\\s()]+(?:\\([^)]+\\))?(?=!)"),lookbehind:true,alias:"url"},modifier:{pattern:RegExp("(^!)(?:"+b+"|[<>=()])+"),lookbehind:true,inside:c.util.clone(d)},url:{pattern:/(:).+/,lookbehind:true},punctuation:/[!:]/}},footnote:{pattern:/\b\[\d+\]/,alias:"comment",inside:{punctuation:/\[|\]/}},acronym:{pattern:/\b[A-Z\d]+\([^)]+\)/,inside:{comment:{pattern:/(\()[^)]+(?=\))/,lookbehind:true},punctuation:/[()]/}},mark:{pattern:/\b\((TM|R|C)\)/,alias:"comment",inside:{punctuation:/[()]/}}}}});var a={inline:c.util.clone(c.languages.textile.phrase.inside.inline),link:c.util.clone(c.languages.textile.phrase.inside.link),image:c.util.clone(c.languages.textile.phrase.inside.image),footnote:c.util.clone(c.languages.textile.phrase.inside.footnote),acronym:c.util.clone(c.languages.textile.phrase.inside.acronym),mark:c.util.clone(c.languages.textile.phrase.inside.mark)};c.languages.textile.tag.pattern=/<\/?(?!\d)[a-z0-9]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\\1|\\?(?!\1)[\w\W])*\1|[^\s'">=]+))?)*\s*\/?>/i;c.languages.textile.phrase.inside.inline.inside.bold.inside=a;c.languages.textile.phrase.inside.inline.inside.italic.inside=a;c.languages.textile.phrase.inside.inline.inside.inserted.inside=a;c.languages.textile.phrase.inside.inline.inside.deleted.inside=a;c.languages.textile.phrase.inside.inline.inside.span.inside=a;c.languages.textile.phrase.inside.table.inside.inline=a.inline;c.languages.textile.phrase.inside.table.inside.link=a.link;c.languages.textile.phrase.inside.table.inside.image=a.image;c.languages.textile.phrase.inside.table.inside.footnote=a.footnote;c.languages.textile.phrase.inside.table.inside.acronym=a.acronym;c.languages.textile.phrase.inside.table.inside.mark=a.mark}(Prism));