(function(){if(typeof self!=="undefined"&&!self.Prism||typeof global!=="undefined"&&!global.Prism){return}var b=/\b([a-z]{3,7}:\/\/|tel:)[\w\-+%~/.:#=?&amp;]+/,a=/\b\S+@[\w.]+[a-z]{2}/,c=/\[([^\]]+)]\(([^)]+)\)/,d=["comment","url","attr-value","string"];Prism.plugins.autolinker={processGrammar:function(e){if(!e||e["url-link"]){return}Prism.languages.DFS(e,function(f,h,g){if(d.indexOf(g)>-1&&Prism.util.type(h)!=="Array"){if(!h.pattern){h=this[f]={pattern:h}}h.inside=h.inside||{};if(g=="comment"){h.inside["md-link"]=c}if(g=="attr-value"){Prism.languages.insertBefore("inside","punctuation",{"url-link":b},h)}else{h.inside["url-link"]=b}h.inside["email-link"]=a}});e["url-link"]=b;e["email-link"]=a}};Prism.hooks.add("before-highlight",function(e){Prism.plugins.autolinker.processGrammar(e.grammar)});Prism.hooks.add("wrap",function(g){if(/-link$/.test(g.type)){g.tag="a";var e=g.content;if(g.type=="email-link"&&e.indexOf("mailto:")!=0){e="mailto:"+e}else{if(g.type=="md-link"){var f=g.content.match(c);e=f[2];g.content=f[1]}}g.attributes.href=e}})})();